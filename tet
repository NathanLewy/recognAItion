import matplotlib.pyplot as plt
import os
import librosa
import numpy as np
import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import LabelEncoder
from sklearn.svm import SVC
from sklearn.metrics import classification_report
from collections import Counter



y, sr = librosa.load(librosa.ex('trumpet'))
pitches, magnitudes = librosa.piptrack(y=y, sr=sr)

# Exemple de valeurs de pitch
frames = np.arange(pitches.shape[1])
frequencies = np.arange(pitches.shape[0])

plt.figure(figsize=(10, 6))
plt.imshow(pitches, aspect='auto', origin='lower', 
           extent=[0, pitches.shape[1], frequencies[0], frequencies[-1]], 
           cmap='viridis')
plt.colorbar(label='Magnitude')
plt.ylabel('Frequency (Hz)')
plt.xlabel('Time Frame')
plt.title('Pitch Detection')
plt.show()
